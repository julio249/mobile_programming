document.addEventListener("DOMContentLoaded",function(){0<_msf("header").length&&(setMobileIcon(),detectDesktopMenu(),addHeaderMenuClickHandlers(),addSubnavArrow()),setAnimations(),initParalaxBkgImgs(),msf_setPageSliders(),msf_setPageGalleries(),msf_setPageCountdowns(),initPopovers(),initFlipCards(),initCookieWarning()});function toggleMobileMenu(){_msf("header").toggleClass("open"),_msf("body").toggleClass("ovrflw-hidden"),setSubNavArrowPosition()}function setMobileIcon(){var a=_msf("header .hamburger"),b=_msf("header .nav-grid");if(b.length){g_top=b[0].offsetTop,g_height=b[0].offsetHeight,i_height=a[0].offsetHeight;var c=g_top+g_height/2;a.css("top",c+"px")}}function detectDesktopMenu(){var a=_msf("header").attr("data-breakpoint");""==a&&(a=768),window.innerWidth>a&&_msf("header").removeClass("mobile")}function addHeaderMenuClickHandlers(){var a=_msf("header").attr("data-breakpoint");""==a&&(a=768);var b=_msf("header nav a");window.innerWidth<a&&[].forEach.call(b,function(a){a.addEventListener("click",function(b){parent_li=_msf(a).parent("li"),item_subnav=_msf(parent_li).child(".subnav:not(:empty)"),"undefined"==typeof item_subnav?""!=a.hash&&_msf(a).hasClass("is-current-page")&&toggleMobileMenu():_msf(parent_li).hasClass("subnav-visible")?""!=a.hash&&_msf(a).hasClass("is-current-page")&&toggleMobileMenu():(b.preventDefault(),_msf(parent_li).addClass("subnav-visible"))})})}function addSubnavArrow(){var a=_msf("header .subnav:not(:empty)");[].forEach.call(a,function(a){var b=_msf(a).parent("li");var c=_msf(b).child("a");_msf(c).after("<svg class=\"subnav-arrow\" xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"12\" viewBox=\"0 0 11 8\" onclick=\"subnaveArrowClick(this);\">\n        <polygon fill=\"#000\" fill-rule=\"evenodd\" points=\"347.5 178 353 185.333 342 185.333\" transform=\"translate(-342 -178)\"></polygon>\n    </svg>")})}function setSubNavArrowPosition(){var a=_msf("header .subnav:not(:empty)");[].forEach.call(a,function(a){var b=_msf(a).parent("li"),c=_msf(a).previous().offsetHeight;_msf(b).child(".subnav-arrow").style.top=c/2-6+"px"})}function subnaveArrowClick(a){parent_li=_msf(a).parent("li"),_msf(parent_li).hasClass("subnav-visible")?_msf(parent_li).removeClass("subnav-visible"):_msf(parent_li).addClass("subnav-visible")}function setAnimations(){anim_objects=_msf("[animate]"),anim_objects.length&&([].forEach.call(anim_objects,function(a){_msf(a).hasClass("has-animated")||(whole=!1,parent=_msf(a).parent("section"),parent==null&&(parent=_msf(a).parent("header")),parent==null&&(parent=_msf(a).parent("footer")),parent==null&&"SECTION"==_msf(a)[0].tagName&&(parent=a,whole=!0),animateObjects(parent,whole))}),window.addEventListener("scroll",function(){[].forEach.call(anim_objects,function(a){_msf(a).hasClass("has-animated")||(whole=!1,parent=_msf(a).parent("section"),parent==null&&(parent=_msf(a).parent("header")),parent==null&&(parent=_msf(a).parent("footer")),parent==null&&"SECTION"==_msf(a)[0].tagName&&(parent=a,whole=!0),animateObjects(parent,whole))})}))}function animateObjects(a,b){if(a.getBoundingClientRect().top<=.65*window.innerHeight){b&&(_msf(a).css("animation-delay","0.1s"),_msf(a).addClass("has-animated"));let c=_msf(a).children("[animate]");for(let a=0;a<c.length;a++)_msf(c[a]).css("animation-delay",.1*a+"s"),_msf(c[a]).addClass("has-animated")}}function initParalaxBkgImgs(){if(_msf(".bkg-img.is-parallax-img")[0]){let a=_msf(".bkg-img.is-parallax-img");[].forEach.call(a,function(a){moveParallaxBkgImg(a),window.addEventListener("scroll",function(){moveParallaxBkgImg(a)})})}}function moveParallaxBkgImg(a){let b=a.getBoundingClientRect().bottom/window.innerHeight;if(a.getBoundingClientRect().top<=window.innerHeight&&0<a.getBoundingClientRect().bottom)if(_msf(a).parent("section")&&"HEADER"==_msf(a).parent("section").previousElementSibling.tagName){let b=768>=window.outerWidth?20:35;a.style.backgroundPosition="50% "+(50-window.scrollY/b+"%")}else{let c=768>=window.outerWidth?35:24;a.style.backgroundPosition="50% "+(50+b*c)+"%"}}var msfPageSliders=[];function msf_setPageSliders(){sliders=_msf("[slider-id]"),sliderCount=0,[].forEach.call(sliders,function(a){sliderProps=_msf(a).attr("slider-properties"),msfPageSliders[sliderCount]=new Swiper(a,JSON.parse(sliderProps)),sliderCount++})}function msf_setPageGalleries(){msf_config.signedIn||(gallery_images=_msf(".gallery-item"),[].forEach.call(gallery_images,function(a){img=_msf(a).child("img"),caption=_msf(img).attr("title"),parent=_msf(a).parent(),caption_elem=_msf(parent).child(".gallery-caption"),_msf(caption_elem).html(caption)}),galleries=_msf("[gallery-id][openable=\"1\"]"),[].forEach.call(galleries,function(a){lightGallery(a,{getCaptionFromTitleOrAlt:!1,subHtmlSelectorRelative:!0,download:!1,speed:500})}))}var msfCountdowns=[];function msf_setPageCountdowns(){var a=_msf("[countdown-id]");[].forEach.call(a,function(a){msf_countdown(a)})}function msf_countdown(a){var b=new Date(_msf(a).attr("countdown-date")).getTime(),c=setInterval(function(){var d=new Date().getTime(),e=b-d,f=Math.floor(e/86400000),g=Math.floor(e%86400000/3600000),h=Math.floor(e%3600000/60000),i=Math.floor(e%60000/1e3);_msf(_msf(a).child("[date-days]")).html(f),_msf(_msf(a).child("[date-hours]")).html(g),_msf(_msf(a).child("[date-minutes]")).html(h),_msf(_msf(a).child("[date-seconds]")).html(i),0>e&&(clearInterval(c),_msf(_msf(a).child("[date-days]")).html(0),_msf(_msf(a).child("[date-hours]")).html(0),_msf(_msf(a).child("[date-minutes]")).html(0),_msf(_msf(a).child("[date-seconds]")).html(0))},1e3)}function initPopovers(){popovers=_msf("[popover-id]"),[].forEach.call(popovers,function(a){"after_page_load"==_msf(a).attr("popover-launch")&&(show_pop=!1,po_id=_msf(a).attr("popover-id"),po_freq=_msf(a).attr("popover-freq"),po_del=_msf(a).attr("popover-delay"),po_ck=getCookie("popover-"+po_id),""==po_ck&&(show_pop=!0),show_pop&&(setTimeout(function(){_msf(a).addClass("d-block"),parent_container=_msf(a).parent(".popover-overlay-container"),parent_container!=null&&_msf(parent_container).addClass("d-block"),setTimeout(function(){_msf(a).addClass("show")},200),setCookie("popover-"+po_id,"true",po_freq)},po_del),po_close=_msf(a).child(".popover-close"),_msf(po_close).on("click",function(){"undefined"==typeof _msf(this).parent(".popover-overlay-container")?_msf(_msf(this).parent(".popover-overlay")).removeClass("d-block"):_msf(_msf(this).parent(".popover-overlay-container")).removeClass("d-block"),_msf(a).removeClass("show")})))})}function openPopover(a,b){b.preventDefault(),po=_msf("[popover-id='"+a+"']")[0],setTimeout(function(){_msf(po).addClass("d-block"),parent_container=_msf(po).parent(".popover-overlay-container"),parent_container!=null&&_msf(parent_container).addClass("d-block"),setTimeout(function(){_msf(po).addClass("show")},200)},0),po_close=_msf(po).child(".popover-close"),_msf(po_close).on("click",function(){"undefined"==typeof _msf(this).parent(".popover-overlay-container")?_msf(_msf(this).parent(".popover-overlay")).removeClass("d-block"):_msf(_msf(this).parent(".popover-overlay-container")).removeClass("d-block"),_msf(po).removeClass("show")})}function initFlipCards(){var a=_msf(".flip-card .flip-card-button a"),b=!1;[].forEach.call(a,function(a){a.addEventListener("click",function(a){a.preventDefault();b||(b=!0,card=_msf(this).parent(".flip-card"),anime({targets:card,rotateY:{value:"+=180",delay:200},easing:"easeInOutSine",duration:400,complete:function(){b=!1}}))})})}function initCookieWarning(){if(_msf(".cookie-warning").length){var a=getCookie("cookie-warning");""==a?_msf(".cookie-warning").addClass("show"):_msf(".cookie-warning").remove()}}function cookieWarningClose(){_msf(".cookie-warning").remove(),setCookie("cookie-warning","true",30)}function toggleAccordion(a,b){a.target.classList.contains("material-icons")||_msf(_msf(b).parent()).toggleClass("is-active")}function setCookie(a,b,c){var e=new Date;e.setTime(e.getTime()+1e3*(60*(60*(24*c))));var d="expires="+e.toUTCString();document.cookie=a+"="+b+"; "+d}function getCookie(a){for(var b,d=a+"=",e=document.cookie.split(";"),f=0;f<e.length;f++){for(b=e[f];" "==b.charAt(0);)b=b.substring(1);if(0==b.indexOf(d))return b.substring(d.length,b.length)}return""}function destroyCookie(a){setCookie(a,"",0)}
